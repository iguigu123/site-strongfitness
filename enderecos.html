<!doctype html>
<html lang="pt-BR"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Endereços • STRONGFITNESS</title>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
<style>:root{--bg:#0b0b0d;--panel:#121214;--panel2:#121212;--border:rgba(255,255,255,0.08);--text:#e6e6e6;--accent:#e50914;--accent2:#ff3b3b;--muted:#b3b3b3}
*{box-sizing:border-box}body{margin:0;background:linear-gradient(180deg,#000 0%, #0a0000 100%);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
.container{max-width:900px;margin:0 auto;padding:0 20px}
.header{position:sticky;top:0;z-index:50;background:rgba(11,11,13,.8);backdrop-filter:blur(8px);border-bottom:1px solid var(--border);background-image:url('./assets/bear-logo.jpg');background-repeat:no-repeat;background-position:center;background-size:cover}
.header-inner{display:grid;grid-template-columns:1fr minmax(240px,600px) 1fr;gap:12px;align-items:center;padding:14px 0}
.brand{font-family:Montserrat,Inter,sans-serif;font-weight:800;letter-spacing:.5px;font-size:20px;color:#fff;text-decoration:none}
.left-actions{display:flex;align-items:center;gap:10px}
.search{display:flex;align-items:center;justify-self:center;width:100%;position:relative}
.search input{width:100%;padding:12px 44px 12px 16px;border-radius:10px;border:1px solid var(--border);background:var(--panel2);color:var(--text)}
.search button{position:absolute;right:6px;height:34px;width:34px;border-radius:8px;border:1px solid var(--border);background:linear-gradient(180deg,rgba(229,9,20,.85),rgba(229,9,20,.65));display:flex;align-items:center;justify-content:center}
.actions{justify-self:end;display:flex;gap:12px;align-items:center}
.btn{display:inline-flex;align-items:center;justify-content:center;height:44px;padding:0 18px;border-radius:12px;font-weight:600;text-decoration:none;transition:.2s ease;border:1px solid var(--border)}
.btn.ghost{background:#1b1b1b;color:var(--text)}.btn.primary{background:linear-gradient(180deg,var(--accent),var(--accent2));color:#fff;border-color:#3a0c0f}
.btn:hover{transform:translateY(-2px);filter:brightness(.98)}
.icon-btn{height:40px;width:44px;border-radius:10px;border:1px solid var(--border);background:var(--panel2);display:inline-flex;align-items:center;justify-content:center;cursor:pointer;position:relative}
.badge{position:absolute;top:-6px;right:-6px;background:var(--accent);color:#fff;font-size:11px;border-radius:999px;padding:3px 6px;border:1px solid #38060a}
.profile-wrap{position:relative}.profile-btn{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:12px;background:var(--panel2);border:1px solid var(--border)}.profile-avatar{width:24px;height:24px;border-radius:999px;background:#3a3a3f}
.profile-menu{position:absolute;right:0;top:48px;width:220px;background:var(--panel);border:1px solid var(--border);border-radius:12px;box-shadow:0 10px 24px rgba(0,0,0,.35)}.menu-head{padding:8px 12px;color:#b3b3b3;font-size:12px}.menu-item{display:block;padding:10px 12px;text-decoration:none;color:#e6e6e6}.menu-item:hover{background:#2a2a2f}
.cart-wrap{position:relative}.mini-cart{position:absolute;right:0;top:48px;width:280px;background:var(--panel);border:1px solid var(--border);border-radius:12px;box-shadow:0 10px 24px rgba(0,0,0,.35);padding:10px}
.mini-items{display:flex;flex-direction:column;gap:8px;max-height:220px;overflow:auto}.mini-item{display:flex;gap:8px;align-items:center}.mini-item .thumb{width:36px;height:36px;background:var(--panel2);border:1px solid var(--border);border-radius:8px}.mini-actions{display:flex;gap:8px;margin-top:10px}
.hamburger-btn{position:relative}
.sidebar{position:fixed;inset:0;z-index:60;background:transparent;transition:background .2s ease}
.sidebar-panel{position:absolute;left:0;top:0;height:100%;width:300px;background:var(--panel);border-right:1px solid var(--border);box-shadow:0 10px 24px rgba(0,0,0,.35);transform:translateX(-100%);transition:transform .25s ease}
.close-btn{position:absolute;left:10px;top:10px}
.sidebar.open{background:rgba(0,0,0,.55)}
.sidebar.open .sidebar-panel{transform:translateX(0)}
.menu-logo-btn{background-image:url('./assets/bear-logo.jpg');background-repeat:no-repeat;background-position:center;background-size:24px}
.menu-logo-btn img{display:none}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:24px 0}
.card{background:#141414;border:1px solid rgba(255,255,255,0.06);border-radius:14px;padding:32px;box-shadow:0 10px 24px rgba(0,0,0,.25)}
.field{display:flex;flex-direction:column;gap:6px;margin-bottom:10px}
.input{padding:12px;border-radius:12px;border:1px solid var(--border);background:var(--panel2);color:#e6e6e6}
.input:focus{outline:none;border-color:#D40000}
.addr{display:flex;justify-content:space-between;border-bottom:1px solid var(--border);padding:10px 0}
.type-row{display:flex;gap:8px;align-items:center}
@media(max-width:720px){.grid{grid-template-columns:1fr}.header-inner{grid-template-columns:1fr;gap:10px}.actions{justify-self:stretch;justify-content:space-between}.card{padding:24px}}
</style></head>
<body>
<script>var u=localStorage.getItem('sf_user');if(!u){location.href='./auth.html'}</script>
<header class="header"><div class="container header-inner"><div class="left-actions"><button class="icon-btn menu-logo-btn" type="button" aria-label="Abrir menu"><img src="./assets/sf-logo-small.jpg" alt="Abrir menu"></button><a class="brand" href="/">STRONGFITNESS</a></div><form class="search" action="./produtos.html" method="get"><input type="text" name="q" placeholder="Buscar produtos..." aria-label="Buscar produtos"><button type="submit" aria-label="Buscar"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="11" cy="11" r="7" stroke="white"></circle><line x1="16.5" y1="16.5" x2="22" y2="22" stroke="white"></line></svg></button></form><div class="actions"><a class="btn ghost" href="./auth.html">Login</a><a class="btn ghost" href="./auth.html">Criar Conta</a><div class="cart-wrap"><button class="icon-btn cart-btn" type="button" aria-label="Carrinho"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.8"><path d="M4 5h2l2 10h10l2-7H7"></path><circle cx="9" cy="19" r="1.6" fill="#fff"></circle><circle cx="17" cy="19" r="1.6" fill="#fff"></circle></svg><span class="badge" id="cart-badge">0</span></button><div class="mini-cart" id="mini-cart" hidden><div class="mini-items" id="mini-items"></div><div class="mini-actions"><a class="btn primary" href="./checkout.html">Finalizar Compra</a><a class="btn ghost" href="./carrinho.html">Ver Carrinho</a></div></div></div><div class="profile-wrap"><button class="profile-btn" aria-label="Abrir menu de perfil" aria-haspopup="menu" aria-expanded="false" aria-controls="profile-menu"><div class="profile-avatar" aria-hidden="true"></div></button><div id="profile-menu" role="menu" class="profile-menu" hidden><div class="menu-head">Convidado</div><a role="menuitem" href="./meu-perfil.html" class="menu-item">Meu Perfil</a><a role="menuitem" href="./pedidos.html" class="menu-item">Meus Pedidos</a><a role="menuitem" href="./enderecos.html" class="menu-item">Endereços</a><a role="menuitem" href="./auth.html" class="menu-item" data-auth="login">Entrar / Criar Conta</a><button role="menuitem" class="menu-item" data-auth="logout" hidden>Sair</button></div></div></div></div></header>
<div class="sidebar" id="sidebar" hidden><div class="sidebar-panel"><button class="icon-btn close-btn" type="button" aria-label="Fechar menu"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.8"><path d="M6 6l12 12M6 18L18 6"></path></svg></button><div class="menu-head" style="padding:12px 12px 12px 52px">Menu</div><a class="menu-item" href="/">Início</a><a class="menu-item" href="./produtos.html?categoria=todos">Produtos</a><a class="menu-item" href="./meu-perfil.html">Meu Perfil</a><a class="menu-item" href="./pedidos.html">Pedidos</a><a class="menu-item" href="./enderecos.html">Endereços</a><a class="menu-item" href="./carrinho.html">Carrinho</a><a class="menu-item" href="./checkout.html">Finalizar Compra</a><a class="menu-item" href="./auth.html">Login / Criar Conta</a></div></div>
<main class="container">
  <h1>Endereços</h1>
  <div class="grid">
    <div class="card"><div id="list"></div></div>
    <div class="card">
      <h2>Novo Endereço</h2>
      <div class="field"><label>CEP</label><input id="cep" class="input" inputmode="numeric" placeholder="00000-000"></div>
      <div class="field"><label>Rua</label><input id="rua" class="input"></div>
      <div class="field"><label>Número</label><input id="numero" class="input"></div>
      <div class="field"><label>Complemento</label><input id="complemento" class="input"></div>
      <div class="field"><label>Bairro</label><input id="bairro" class="input"></div>
      <div class="field"><label>Cidade</label><input id="cidade" class="input"></div>
      <div class="field"><label>Estado</label><input id="estado" class="input"></div>
      <div class="field"><label>Referência</label><input id="referencia" class="input"></div>
      <div class="type-row"><input type="checkbox" id="favorito"><label for="favorito">Favorito</label></div>
      <div class="type-row"><input type="checkbox" id="flag-casa"><label for="flag-casa">Casa</label></div>
      <div class="type-row"><input type="checkbox" id="flag-trabalho"><label for="flag-trabalho">Trabalho</label></div>
      <div class="type-row"><input type="checkbox" id="flag-outro"><label for="flag-outro">Outro</label></div>
      <button class="btn primary" id="add">Cadastrar</button>
    </div>
  </div>
</main>
<script>
function addresses(){return JSON.parse(localStorage.getItem('sf_addresses')||'[]')}
function saveAddrs(list){localStorage.setItem('sf_addresses',JSON.stringify(list))}
function render(){var list=addresses();var wrap=document.getElementById('list');wrap.innerHTML='';if(!list.length){wrap.textContent='Nenhum endereço cadastrado.';return}
list.forEach(function(a,idx){var div=document.createElement('div');div.className='addr';var fav=a.favorito?'★ ':'';var tags=[];if(a.casa)tags.push('casa');if(a.trabalho)tags.push('trabalho');if(a.outro)tags.push('outro');var tagStr=tags.length?'['+tags.join(', ')+'] ':' ';div.innerHTML='<div>'+fav+tagStr+(a.sel?'Selecionado • ':'')+a.rua+', '+a.numero+' — '+a.bairro+' — '+a.cidade+'/'+a.estado+' • CEP '+a.cep+'</div><div><button id="sel'+idx+'" class="btn ghost">Selecionar</button><button id="ed'+idx+'" class="btn ghost">Editar</button><button id="rm'+idx+'" class="btn ghost">Excluir</button></div>';wrap.appendChild(div);document.getElementById('sel'+idx).onclick=function(){list.forEach(function(b){b.sel=false});list[idx].sel=true;saveAddrs(list);syncUserWithSelected(list[idx]);render()};document.getElementById('rm'+idx).onclick=function(){list.splice(idx,1);saveAddrs(list);render()};document.getElementById('ed'+idx).onclick=function(){var rua=prompt('Rua',list[idx].rua)||list[idx].rua;var num=prompt('Número',list[idx].numero)||list[idx].numero;var comp=prompt('Complemento',list[idx].complemento||'')||list[idx].complemento;var bairro=prompt('Bairro',list[idx].bairro||'')||list[idx].bairro;var cidade=prompt('Cidade',list[idx].cidade)||list[idx].cidade;var estado=prompt('Estado',list[idx].estado)||list[idx].estado;var fav=confirm('Marcar como favorito?');var casa=confirm('Marcar como casa?');var trabalho=confirm('Marcar como trabalho?');var outro=confirm('Marcar como outro?');list[idx]={cep:list[idx].cep,rua:rua,numero:num,complemento:comp,bairro:bairro,cidade:cidade,estado:estado,referencia:list[idx].referencia||'',favorito:fav,casa:casa,trabalho:trabalho,outro:outro,sel:list[idx].sel};saveAddrs(list);if(list[idx].sel)syncUserWithSelected(list[idx]);render()}})}
document.getElementById('add').onclick=function(){var cep=(document.getElementById('cep')).value.replace(/\D/g,'');var rua=(document.getElementById('rua')).value;var num=(document.getElementById('numero')).value;var comp=(document.getElementById('complemento')).value;var bairro=(document.getElementById('bairro')).value;var cidade=(document.getElementById('cidade')).value;var estado=(document.getElementById('estado')).value;var ref=(document.getElementById('referencia')).value;var favorito=(document.getElementById('favorito')).checked;var casa=(document.getElementById('flag-casa')).checked;var trabalho=(document.getElementById('flag-trabalho')).checked;var outro=(document.getElementById('flag-outro')).checked;if(!cep||cep.length!==8||!rua||!num||!cidade||!estado){alert('Preencha CEP, Rua, Número, Cidade e Estado');return}var list=addresses();list.forEach(function(a){a.sel=false});var novo={cep:cep,rua:rua,numero:num,complemento:comp,bairro:bairro,cidade:cidade,estado:estado,referencia:ref,favorito:favorito,casa:casa,trabalho:trabalho,outro:outro,sel:true};list.unshift(novo);saveAddrs(list);syncUserWithSelected(novo);['cep','rua','numero','complemento','bairro','cidade','estado','referencia'].forEach(function(id){(document.getElementById(id)).value='' });document.getElementById('favorito').checked=false;document.getElementById('flag-casa').checked=false;document.getElementById('flag-trabalho').checked=false;document.getElementById('flag-outro').checked=false;render()}
document.addEventListener('DOMContentLoaded',function(){render();setupCepAutoFill();syncFromUser();setupSyncListeners()})
function syncFromUser(){var raw=localStorage.getItem('sf_user');if(!raw)return;var u=JSON.parse(raw);var e=u.endereco||null;if(!e||!e.cep)return;var list=addresses();var idx=list.findIndex(function(a){return a.fromUser});var obj={cep:e.cep,rua:e.logradouro||'',numero:e.numero||'',complemento:e.complemento||'',bairro:e.bairro||'',cidade:e.cidade||'',estado:e.estado||'',referencia:e.referencia||'',favorito:true,casa:true,trabalho:false,outro:false,sel:true,fromUser:true};if(idx>=0){list[idx]=obj}else{list.unshift(obj)}saveAddrs(list);render()}
function setupSyncListeners(){window.addEventListener('storage',function(ev){if(ev.key==='sf_user'){syncFromUser()}})}
function syncUserWithSelected(a){var raw=localStorage.getItem('sf_user');if(!raw)return;var u=JSON.parse(raw);u.endereco={cep:a.cep,numero:a.numero,logradouro:a.rua||'',bairro:a.bairro||'',cidade:a.cidade||'',estado:a.estado||'',complemento:a.complemento||'',referencia:a.referencia||''};localStorage.setItem('sf_user',JSON.stringify(u))}
function setupCepAutoFill(){var cepInput=document.getElementById('cep');function fetchViaCep(cep){cep=cep.replace(/\D/g,'');if(cep.length!==8)return;fetch('https://viacep.com.br/ws/'+cep+'/json/').then(function(r){return r.json()}).then(function(data){if(data&&!data.erro){document.getElementById('rua').value=data.logradouro||'';document.getElementById('bairro').value=data.bairro||'';document.getElementById('cidade').value=data.localidade||'';document.getElementById('estado').value=data.uf||''}}).catch(function(){})}
cepInput&&cepInput.addEventListener('blur',function(){fetchViaCep(cepInput.value)})}
var pBtn=document.querySelector('.profile-btn');var pMenu=document.getElementById('profile-menu');function setAuthUI(){var raw=localStorage.getItem('sf_user');var u=raw?JSON.parse(raw):null;document.querySelector('.menu-head').textContent=u?(u.name||u.email||'Usuário'):'Convidado';document.querySelector('[data-auth="login"]').hidden=!!u;document.querySelector('[data-auth="logout"]').hidden=!u}
function openMenu(){pMenu.hidden=false;pBtn.setAttribute('aria-expanded','true')}function closeMenu(){pMenu.hidden=true;pBtn.setAttribute('aria-expanded','false')}
pBtn&&pBtn.addEventListener('click',function(){if(pMenu.hidden){setAuthUI();openMenu()}else{closeMenu()}})
document.addEventListener('keydown',function(e){if(e.key==='Escape')closeMenu()});document.addEventListener('mousedown',function(e){if(!pMenu||pMenu.hidden)return;var inside=pMenu.contains(e.target)||pBtn.contains(e.target);if(!inside)closeMenu()});
var logout=document.querySelector('[data-auth="logout"]');logout&&logout.addEventListener('click',function(){localStorage.removeItem('sf_user');closeMenu();location.href='./auth.html'})
var badge=document.getElementById('cart-badge');function updateBadge(){var items=JSON.parse(localStorage.getItem('sf_cart')||'[]');badge.textContent=String(items.reduce(function(s,i){return s+i.qty},0))}
document.addEventListener('DOMContentLoaded',function(){setAuthUI();updateBadge()})
var cartBtn=document.querySelector('.cart-btn');var mini=document.getElementById('mini-cart');var miniItems=document.getElementById('mini-items');function renderMini(){var raw=localStorage.getItem('sf_cart');var items=raw?JSON.parse(raw):[];miniItems.innerHTML='';items.forEach(function(i){var div=document.createElement('div');div.className='mini-item';div.innerHTML='<div class="thumb"></div><div class="flex-1"><div class="text-sm">'+i.nome+'</div><div class="text-xs">'+i.qty+'x • R$ '+(i.preco*i.qty).toFixed(2)+'</div></div>';miniItems.appendChild(div)})}
var hideTimer;function showMini(){renderMini();mini.hidden=false}function hideMiniDelayed(){clearTimeout(hideTimer);hideTimer=setTimeout(function(){mini.hidden=true},200)}
if(cartBtn){cartBtn.addEventListener('mouseenter',showMini);cartBtn.addEventListener('mouseleave',hideMiniDelayed)}
mini&&mini.addEventListener('mouseenter',function(){clearTimeout(hideTimer);mini.hidden=false});mini&&mini.addEventListener('mouseleave',hideMiniDelayed)
var toggleBtn=document.querySelector('.menu-logo-btn')||document.querySelector('.hamburger-btn');var sb=document.getElementById('sidebar');var sp=document.querySelector('.sidebar-panel');function openSb(){sb.hidden=false;requestAnimationFrame(function(){sb.classList.add('open')})}function closeSb(){sb.classList.remove('open');setTimeout(function(){sb.hidden=true},200)}var sbClose=document.querySelector('.close-btn');toggleBtn&&toggleBtn.addEventListener('click',function(){if(sb.hidden)openSb();else closeSb()});sbClose&&sbClose.addEventListener('click',closeSb);document.addEventListener('keydown',function(e){if(e.key==='Escape')closeSb()});document.addEventListener('mousedown',function(e){if(!sb||sb.hidden)return;var inside=sp.contains(e.target)||(toggleBtn&&toggleBtn.contains(e.target));if(!inside)closeSb()})
</script>
</body></html>